@using InventoryManagementSystem.Services;
@model InventoryManagementSystem.ViewModels.OrderIndex






<div class="m-5 mb-3">
    <h4 class="page-header-text">Add Order</h4>
</div>
    


<div class="order-create-div m-5 mt-2 p-3 pt-2" style="">
    
    <form id="order-form" asp-controller="Order" asp-action="Index" method="post" class="row d-flex">
        <h4 class="mb-3 mt-2">Customer Information</h4>
        <div class="col-lg-4 mb-2">
            <label asp-for="orderGroup.order.Customer.fullName" class="form-label"></label>
            <input id="customer-first-name-input" name="orderGroup.customer.fullName" type="text" class="input-class form-control form-control-sm"/>
            <span id="customer_First_name_validation" class="text-danger"></span>
        </div>
        <div class="col-lg-4 mb-2">
            <label class="form-label">Middle Name</label>
            <input id="customer-middle-name-input" class="form-control form-control-sm"/>
        </div>
        <div class="col-lg-4 mb-2">
            <label class="form-label">Last Name</label>
            <input id="customer-last-name-input" class="form-control form-control-sm"/>
        </div>
        <div class="col-lg-4">
            <label asp-for="orderGroup.order.Customer.Phone_number" class="form-label"></label>
            <input aspzzzz-for="customer.Phone_number" class="form-control form-control-sm" />
        </div>
        <div class="col-lg-4">
            <label asp-for="orderGroup.order.Com_thread" class="form-label"></label>
            <select asp-for="orderGroup.order.Com_thread" class="input-class form-select form-select-sm">
                <option class="input-class" selected>Select a communication thread</option>
                <option class="input-class" value="Marketplace">Marketplace</option>
                <option class="input-class" value="Page">Facebook Page</option>
                <option class="input-class" value="Phone">Phone (SMS)</option>
            </select>
            <span id="order_Com_thread_validation" class="text-danger"></span>
        </div>
        <div class="col-lg-4 mb-2">
            <div class="form-check" style="margin-bottom: .5rem;">
                <label asp-for="orderGroup.order.Delivery" class="form-check-label"></label>
                <input asp-for="orderGroup.order.Delivery" class="form-check-input" type="checkbox">
            </div>
            <div class="form-check">
                <label asp-for="orderGroup.order.Out_Of_Town" class="form-check-label"></label>
                <input asp-for="orderGroup.order.Out_Of_Town" class="form-check-input" type="checkbox">
            </div>
        </div>
        <h4 class="mb-3">Order Information</h4>
        <div class="col-lg-4 mb-2">
            <label asp-for="orderGroup.order.Order_fulfillment_date" class="form-label"></label>
            <input asp-for="orderGroup.order.Order_fulfillment_date" class="input-class form-control form-control-sm" type="date" placeholder="Order Fulfillment Date"/>    
             <span id="order_Order_fulfillment_date_validation" class="text-danger"></span>
        </div> 
        <div class="col-lg-4">
            <label asp-for="orderGroup.paymentHistory[0].PaymentAmount" class="form-label"></label>
            <div class="input-group input-group-sm mb-3">
                <span class="input-group-text">$</span>
                <input asp-for="orderGroup.paymentHistory[0].PaymentAmount" class="form-control form-control-sm" type="number" step="0.01"/>
            </div>
        </div>
        <div class="col-lg-4">
            <label asp-for="orderGroup.paymentHistory[0].PaymentType" class="form-label"></label>
            <select asp-for="orderGroup.paymentHistory[0].PaymentType" class="input-class form-select form-select-sm">
                <option selected>Select a payment type</option>
                <option class="input-class" value="Venmo">Venmo</option>
                <option class="input-class" value="Cash App">Cash App</option>
                <option class="input-class" value="Cash">Cash</option>
                <option class="input-class" value="Other">Other</option>
            </select>
        </div>
        <h4 class="mb-3">Product Information</h4>
        <div id="product-input-0">
            <div class="row">
            <div class="col-lg-3 mb-2">
                <label asp-for="orderGroup.products[0].Name" class="form-label"></label>
                <input asp-for="orderGroup.products[0].Name" class="form-control form-control-sm" />    
                
            </div> 
            <div class="col-lg-3 mb-2">
                <label asp-for="orderGroup.products[0].Description" class="form-label"></label>
                <textarea asp-for="orderGroup.products[0].Description" class="form-control form-control-sm" rows="1"></textarea>    
            </div> 
            <div class="col-lg-2 mb-2">
                <label asp-for="orderGroup.products[0].Dimensions" class="form-label"></label>
                <input asp-for="orderGroup.products[0].Dimensions" class="form-control form-control-sm" />    
            </div> 
            <div class="col-lg-2 mb-2">
                <label class="form-label">Category</label>
                <select asp-for="orderGroup.products[0].Category.Id" class="input-class form-select form-select-sm">
                    <option selected>Select a category</option>
                    @foreach (var category in (IEnumerable<Category>)ViewData["productCategories"])
                    {
                        <option class="input-class" value=@category.Id>@category.Name</option>
                    }
                </select>
                
            </div> 
            <div class="col-lg-2 mb-2">
                <label asp-for="orderGroup.products[0].Price" class="form-label"></label>
                <div class="input-group input-group-sm mb-3" style="flex-wrap: unset;">
                    <span class="input-group-text">$</span>
                    <input style="width: 80%;"asp-for="orderGroup.products[0].Price" class="form-control form-control-sm" type="number" step="0.01"/>
                    
                </div>
            </div> 
           
            </div>
        </div>
        <div id="button-row" class="row mb-2 mt-2 d-flex flex-row">
            <div class="col-5 d-flex justify-content-start">
                <input id="order-input-submit" type="submit" value="Submit" class="btn btn-success"/>
                <button type="button"  class="btn btn-primary" onclick="addProduct()" style="margin-left: 10px;">Add Product</button>
                <button id="remove-product" type="button"  class="btn btn-danger" onclick="removeProduct(); updateTotalPrice();" style="margin-left: 10px;">Remove Product</button>
            </div>
            <div class="col-7 d-flex justify-content-end">  
                <p>Total: <span class="lead">$</span><span id="total-price" class="lead">0</span></p>
            </div>
            

            
       </div>
    </form>
</div>


<div class="m-5 mb-3 mt-1">
    <h4 class="page-header-text">Detailed Order Summary</h4>
</div>

<partial name="_OrderDisplayPartial" for="orderRetrievalModel">




<script type="text/javascript" src="~/js/AddOrder.js"></script>
